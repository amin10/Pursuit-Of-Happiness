<!DOCTYPE html>
<html lang="en">
<head>
  <title>Pursuit of Happiness</title>
  <meta charset="utf-8">
   <meta name="viewport" content="initial-scale=2.0, user-scalable=no">

  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
 <script src="jquery-csv.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <style type="text/css">

    html, body, #wrapper{
    height: 100%;
    width: 100%;
     }
    #map-canvas{
        position: absolute;
        top: 0pt;
        left: 0;
        bottom: 0;
        right: 0;
    }
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDxif6DsCvG0_9W3yYk2XQ4D1NN9VWg2wE">
    </script>
    <script type="text/javascript">
       $( document ).ready(function() {
           active = true;
	   numClicks = 0;
           $("#second").hide();
       });
      function initialize() {
         getMap();
         addClickListener();
      }
      google.maps.event.addDomListener(window, 'load', initialize); 
      addClickListener();
        //creates video game interface
      function getMap() {
        var mapOptions = {
          center: { lat: 42.358263, lng: -71.054020},
          zoom: 14
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);
        return map;
      }

      function addClickListener() {
        var map = getMap();
           google.maps.event.addListener(map, 'click', function(event){                                                                                                                                                          

       if (numClicks % 2 == 0 ) {
           startLat = event.latLng.lat();
           startLong = event.latLng.lng()
           numClicks++;
           $("#second").show();
           $("#first").hide();
       } else if (numClicks % 2 == 1) {
           endLat = event.latLng.lat();
           endLong = event.latLng.lng();
           numClicks++;
           clicked_coordinates =[[startLat,startLong],[endLat,endLong]]
           $('#second').html("Here is the happiest route");
           process();
          }
         }); 
      } 

    </script>
    <script src = "https://lagrassa.scripts.mit.edu/Pursuit-Of-Happiness/alg.js"> </script>
    <script src = "http://maps.google.com/maps/api/js?v=3.exp&sensor=false"></script> 
<script>
         
        function process() {
            var coordinates = clicked_coordinates;
            var loc = coordinates[0]
            var des = coordinates[1]
            var relevantDataPoints= [[42.3470993, -71.0884, 0.7063], [42.35136795, -71.040491, 1.2508], [42.34384918, -71.07186389, 1.2649], [42.34650803, -71.08659891, 0.7175], [42.30377197, -71.08507263, 1.5225], [42.35136795, -71.040491, 1.2508], [42.32210159, -71.1093, 1.6746], [42.35136795, -71.040491, 1.2508], [42.34824371, -71.08347416, 1.4232], [42.34723282, -71.0959756, 1.271], [42.40842819, -71.0536625, 1.4126], [42.31785202, -71.07227116, 0.5891], [42.35430908, -71.07996298, 1.2674], [42.34976578, -71.082809, 1.5518], [42.34292603, -71.08574507, 0.7166]]

            var relevantDataPoints2 = [[42.34051514, -71.126409, 1.739796021], [42.36768341, -71.0762691, 0.611601203], [42.31720352, -71.05417148, 0.693793605], [42.34650803, -71.0972024, 1.54543671], [42.3490181, -71.09144615, 0.674280153], [42.34897614, -71.13748267, 0.58990174], [42.30138779, -71.09444444, 0.619646557], [42.34650803, -71.0972024, 1.526837307], [42.35446167, -71.13070208, 1.833833063], [42.34727478, -71.07960114, 1.853836055], [42.3541832, -71.05326562, 1.74755843], [42.35611725, -71.0552516, 0.693793605], [42.34650803, -71.0972024, 1.64452253], [42.35931015, -71.02705047, 1.48306308], [42.36564636, -71.05335066, 1.569969121], [42.37260056, -71.084851, 0.608079234], [42.3078537, -71.0790952, 0.572226933], [42.36500168, -71.10361111, 1.557654619], [42.34468079, -71.09821715, 1.430158698], [42.3079567, -71.07929955, 0.735271723], [42.34650803, -71.0972024, 1.631816787], [42.35829926, -71.0661, 1.090985604], [42.34650803, -71.0972024, 1.340518733], [42.34650803, -71.0972024, 1.874813366], [42.32852936, -71.057671, 0.619646557], [42.35379791, -71.1370304, 1.578465389], [42.3610611, -71.0844008, 1.54543671], [42.34650803, -71.0972024, 1.652012454], [42.28894424, -71.13570037, 0.560550708], [42.35842896, -71.0597732, 1.681152], [42.35176849, -71.061378, 1.611868009], [42.34885788, -71.13361579, 1.715567252], [42.35842896, -71.0597732, 1.681152], [42.35439682, -71.06236537, 0.608079234], [42.34880066, -71.0953601, 1.715567252], [42.33461761, -71.05125999, 0.655839842], [42.34554291, -71.09767704, 0.545305906], [42.35611725, -71.0552516, 0.693793605], [42.35611725, -71.0552516, 0.693793605], [42.35485458, -71.0661193, 1.519569529], [42.31606293, -71.11742012, 0.643984453], [42.35411072, -71.069942, 1.689973133], [42.27686691, -71.1498409, 0.674280153], [42.34078979, -71.15338276, 0.617236808], [42.35524368, -71.06724067, 1.652012454], [42.35775757, -71.05323508, 1.48306308], [42.313797, -71.11963261, 0.608079234], [42.35411072, -71.069942, 1.833833063], [42.34693146, -71.09732107, 1.689973133], [42.35611725, -71.0552516, 0.608079234], [42.28680038, -71.064762, 1.118754846], [42.34850311, -71.1305388, 1.816928297], [42.34650803, -71.0972024, 0.59943303], [42.30492401, -71.09800058, 0.761079513], [42.36383057, -71.10144819, 0.647066291], [42.34923553, -71.138639, 1.526837307], [42.30439758, -71.08881341, 1.526837307], [42.36500168, -71.10361111, 1.48306308], [42.34069443, -71.069344, 1.48306308], [42.34650803, -71.0972024, 1.689973133], [42.34662628, -71.09732737, 1.441350846], [42.34384918, -71.07186389, 1.448149016], [42.34650803, -71.0972024, 1.837057691], [42.35174179, -71.0327695, 1.450714657], [42.35112, -71.10881042, 1.689973133], [42.34650803, -71.0972024, 0.608079234], [42.35842896, -71.0597732, 1.519569529], [42.28905487, -71.067378, 1.689973133], [42.35971832, -71.05360491, 1.591107209], [42.30848312, -71.08746825, 1.689973133], [42.35842896, -71.0597732, 1.681152], [42.34643936, -71.0973039, 1.714735724], [42.33026123, -71.09891199, 1.64452253], [42.34650803, -71.0972024, 1.731875478], [42.33927917, -71.09425492, 1.526837307], [42.34860992, -71.04199661, 1.317662517], [42.35842896, -71.0597732, 1.681152], [42.35059357, -71.08421962, 1.569969121], [42.34723282, -71.0959756, 0.558423819], [42.35932922, -71.06455994, 1.48306308], [42.32359695, -71.08496934, 0.693793605], [42.28905487, -71.067378, 1.795744337], [42.28323746, -71.03692722, 0.693793605], [42.34823227, -71.12454669, 1.037405288], [42.34849548, -71.1087756, 1.64452253], [42.35912704, -71.0879082, 1.132634333], [42.37348557, -71.09860828, 1.596086919], [42.34446335, -71.10163543, 1.64452253], [42.34569931, -71.079, 1.739796021], [42.35611725, -71.0552516, 1.58108245], [42.35842896, -71.0597732, 1.579004263], [42.34650803, -71.0972024, 1.48306308], [42.35430908, -71.07996298, 1.652012454], [42.34650803, -71.0972024, 1.652012454], [42.33451843, -71.07288439, 1.731875478], [42.2929306, -71.074755, 1.74755843], [42.34650803, -71.0972024, 1.374336323], [42.35096741, -71.07795714, 1.64452253], [42.34977341, -71.13054039, 1.624522458], [42.34410858, -71.043968, 1.54543671], [42.35267639, -71.1319633, 1.853836055], [42.34650803, -71.0972024, 1.693896322], [42.34934235, -71.09512058, 0.608079234], [42.36526489, -71.1036828, 0.756757126], [42.3428421, -71.085689, 1.756812401], [42.34723282, -71.0959756, 0.647066291], [42.33927917, -71.09425492, 1.526837307], [42.35611725, -71.0552516, 1.795744337], [42.35333633, -71.06259437, 0.572226933], [42.35039902, -71.0651, 1.715567252], [42.35924911, -71.05597936, 1.441350846], [42.3428421, -71.085689, 1.777003199], [42.35401535, -71.062105, 1.652012454], [42.35842896, -71.0597732, 1.681152], [42.35921478, -71.05001014, 1.88001715], [42.29400635, -71.04636424, 0.629798394], [42.36205292, -71.05199303, 1.206066117], [42.35398483, -71.06233284, 1.321427926], [42.3470993, -71.0884, 0.7063], [42.35136795, -71.040491, 1.2508], [42.34384918, -71.07186389, 1.2649], [42.34650803, -71.08659891, 0.7175], [42.30377197, -71.08507263, 1.5225], [42.35136795, -71.040491, 1.2508], [42.32210159, -71.1093, 1.6746], [42.35136795, -71.040491, 1.2508], [42.34824371, -71.08347416, 1.4232], [42.34723282, -71.0959756, 1.271], [42.40842819, -71.0536625, 1.4126], [42.31785202, -71.07227116, 0.5891], [42.35430908, -71.07996298, 1.2674], [42.34976578, -71.082809, 1.5518], [42.34292603, -71.08574507, 0.7166], [42.35718155, -71.05125556, 1.569969121], [42.36097336, -71.05118947, 1.769884325], [42.33647919, -71.07696237, 0.608079234], [42.36295319, -71.09171997, 1.62079637], [42.34827423, -71.12440308, 1.321427926], [42.35340118, -71.07022694, 0.756757126], [42.37490082, -71.0891, 1.48306308], [42.3444519, -71.044884, 1.569969121], [42.35611725, -71.0552516, 0.608079234], [42.34916687, -71.08416667, 1.803859016], [42.36116409, -71.06397611, 1.668243073], [42.36670685, -71.099174, 1.74755843], [42.34650803, -71.0972024, 1.569969121], [42.35779953, -71.0617, 0.735271723], [42.3508873, -71.06485389, 1.74755843], [42.3361969, -71.04374637, 1.842067527], [42.33613586, -71.04383689, 0.663077459], [42.34161377, -71.06883097, 0.655839842], [42.35612106, -71.0742742, 1.48306308], [42.34723282, -71.0959756, 1.64452253], [42.35676193, -71.06979477, 1.441350846], [42.36547089, -71.08232617, 1.57919119], [42.37478256, -71.089185, 1.569969121], [42.34820175, -71.12451352, 0.693793605], [42.35611725, -71.0552516, 1.69297491], [42.36030579, -71.05062861, 0.780346986], [42.28683853, -71.08638, 1.48306308], [42.34650803, -71.0972024, 1.803090913], [42.35073471, -71.06615155, 1.340518733], [42.36452103, -71.08138992, 1.49910717], [42.27920151, -71.09314258, 1.420595202], [42.34749603, -71.087925, 1.630848888], [42.34860992, -71.084122, 1.250234188], [42.36483002, -71.100424, 1.64452253], [42.35744858, -71.060756, 1.526837307], [42.35842896, -71.0597732, 1.681152], [42.3532753, -71.06327279, 1.652012454], [42.36309814, -71.10702511, 1.321427926], [42.36001587, -71.09171168, 1.605978616], [42.36307526, -71.10063769, 1.803859016], [42.34384918, -71.07186389, 1.340518733], [42.37012863, -71.07369254, 1.340518733], [42.35398483, -71.06233284, 0.584261591], [42.34723282, -71.0959756, 1.811487606], [42.33320999, -71.14582638, 1.739796021], [42.37485504, -71.08909128, 1.48306308], [42.33621216, -71.04363622, 1.731875478], [42.3205452, -71.06157882, 1.689973133], [42.33927917, -71.09425492, 1.526837307], [42.33336639, -71.10670682, 0.608079234], [42.35398483, -71.06233284, 1.763740216], [42.33335876, -71.1068017, 1.605978616], [42.3430748, -71.09627619, 0.693793605], [42.3526001, -71.13882229, 1.663097399], [42.36449814, -71.08129774, 1.708737832], [42.3444519, -71.044884, 1.643393121], [42.35956955, -71.05128, 1.569969121], [42.34708023, -71.08237712, 1.652012454], [42.31151962, -71.08848186, 1.803859016], [42.3512001, -71.0402, 1.646537158], [42.31164551, -71.08842552, 1.478047444], [42.3512001, -71.0402, 1.651071184], [42.3512001, -71.0402, 1.458002087], [42.3512001, -71.0402, 1.725426341], [42.34999847, -71.076, 0.652293311], [42.33588791, -71.04352106, 1.670010008], [42.3512001, -71.0402, 1.422722073], [42.35329437, -71.14612579, 1.48306308], [42.3512001, -71.0402, 1.647417866], [42.30746841, -71.130738, 1.731875478], [42.34844208, -71.11928877, 1.88001715], [42.3512001, -71.0402, 1.516492676], [42.3512001, -71.0402, 1.321427926], [42.33927917, -71.09425492, 1.381630993], [42.3512001, -71.0402, 1.208550598], [42.3512001, -71.0402, 1.613823218], [42.35991669, -71.05661714, 1.655573757], [42.33927917, -71.09425492, 1.40125749], [42.34599686, -71.0870192, 1.441350846], [42.3512001, -71.0402, 0.726658172], [42.35538101, -71.06234274, 1.48306308], [42.35779953, -71.0617, 1.746696951], [42.33927917, -71.09425492, 1.526837307], [42.3512001, -71.0402, 1.715567252], [42.36002731, -71.05512286, 1.526837307], [42.36650085, -71.0908, 1.48306308], [42.3512001, -71.0402, 0.761079513], [42.36494827, -71.055107, 1.48306308], [42.32357788, -71.08495763, 1.689973133], [42.35842896, -71.0597732, 1.446585748], [42.3512001, -71.0402, 0.674280153], [42.33927917, -71.09425492, 1.689973133], [42.34465027, -71.096306, 1.74755843], [42.35317993, -71.13263718, 1.441350846], [42.36650085, -71.0908, 1.321427926], [42.3571701, -71.052733, 1.321427926], [42.3227272, -71.10734371, 1.569969121], [42.33702469, -71.07605916, 1.725426341], [42.34927368, -71.07957273, 1.803300339], [42.33840561, -71.14935288, 0.944972469], [42.34909058, -71.07404499, 1.724059399], [42.33702469, -71.07605916, 1.250234188], [42.35221481, -71.059059, 1.652012454], [42.35611725, -71.0552516, 0.86859399], [42.35943222, -71.09159818, 1.569969121], [42.32350922, -71.08489538, 1.38799936], [42.35343933, -71.05916942, 1.526837307], [42.33702469, -71.07605916, 1.689973133], [42.36650085, -71.0908, 1.526837307], [42.35965729, -71.055946, 1.374601864], [42.35611725, -71.0552516, 0.608079234], [42.35611725, -71.0552516, 0.605322313], [42.35611725, -71.0552516, 0.761079513], [42.35611725, -71.0552516, 0.693793605], [42.35611725, -71.0552516, 0.693793605], [42.35611725, -71.0552516, 1.866906609], [42.35611725, -71.0552516, 1.547543427], [42.35611725, -71.0552516, 0.756757126], [42.35626221, -71.0625966, 1.803859016], [42.34973526, -71.05767282, 0.840128219], [42.34942627, -71.09972512, 1.360041422], [42.36869812, -71.0948, 1.586556847], [42.36458206, -71.06287818, 0.761079513], [42.35779953, -71.0617, 1.340518733], [42.33927917, -71.09425492, 1.60633559], [42.37100983, -71.10682339, 1.769884325], [42.31911087, -71.0996998, 0.608079234], [42.36013412, -71.05399928, 1.635052377], [42.35611725, -71.0552516, 0.693793605], [42.36174393, -71.05705063, 0.647066291], [42.36869812, -71.0948, 1.859974995], [42.35681534, -71.051811, 1.74755843], [42.35611725, -71.0552516, 1.48306308], [42.34731674, -71.09814132, 1.48306308], [42.33927917, -71.09425492, 1.526837307], [42.34882355, -71.158282, 1.681152], [42.35221481, -71.059059, 0.756757126], [42.34997559, -71.06531504, 1.48306308], [42.32860947, -71.0825, 1.724276641], [42.32852936, -71.145067, 0.681764268], [42.35815811, -71.0585053, 1.681152], [42.35611725, -71.0552516, 1.689973133], [42.35842896, -71.0597732, 1.681152], [42.3004303, -71.07559379, 1.526837307], [42.36000061, -71.055, 1.652012454], [42.3669548, -71.07495726, 1.115644764], [42.35808182, -71.14949005, 1.788701821], [42.34635162, -71.1626756, 1.446585748], [42.33779526, -71.0705763, 1.681152], [42.28905487, -71.067378, 1.548253023], [42.36622238, -71.05746351, 1.64452253]]


var datapoints = relevantDataPoints2
csv = "-76.23961598,39.55583191,0.6135 -75.0444945,39.87785339,1.2618 -73.86491964,40.85757446,1.0144 -80.5324173,37.15205002,1.1702 -76.58813741,39.36404037,0.8065 -81.9179173,41.45532227,0.7717 -73.54996031,45.52656555,1.6959 -83.00617484,39.98804474,1.5418 -77.0174,38.89759827,1.5487 -73.94528444,40.80802155,1.3312 -74.73156894,40.19697189,1.1983 -74.03375752,40.99141312,1.3022 -71.0884,42.3470993,0.7063 -83.0479828,42.32848358,1.2343 -71.43257883,41.84076309,1.9324 -73.6104058,40.75260162,1.3338 -73.976188,40.68326569,0.8519 -74.375369,40.57784653,1.3509 -74.99584481,41.68067551,1.4872 -83.9508068,43.41947174,1.5425 -75.73366667,39.52534485,1.6379 -76.99055978,42.87817383,1.2421 -75.09407663,38.52811432,0.6963 -73.18275154,40.73729324,1.5661 -78.8946569,35.99075317,1.7654 -76.5397568,39.39772034,1.4219 -74.1897707,40.64796448,0.7051 -79.950434,40.46160889,1.4086 -86.13570903,40.47473145,0.7573 -73.92843859,40.68276978,1.1091 -75.180244,39.96523666,1.3504 -83.57040333,41.83816528,1.2278 -77.72006791,39.79776764,0.6438 -73.14508664,41.19104385,0.6402 -83.1266945,40.60202789,1.3348 -72.3922811,40.94838333,0.6514 -74.0256805,40.18880844,1.4866 -71.489875,42.49493027,1.7045 -77.02070709,39.63875961,0.6427 -76.9150271,38.85110855,0.8112 -79.34738159,43.67383194,1.174 -74.43617165,39.35668564,0.8459 -86.14864022,39.69281006,0.6256 -74.628975,40.15158844,1.3217 -73.722351,40.71136856,0.727 -73.977355,40.75183868,1.7838 -73.979332,40.30456924,1.7258 -84.30815909,39.33110046,1.6173 -71.3242322,42.63895416,1.5676 -84.25824855,39.57324982,0.6463 -71.040491,42.35136795,1.2508 -85.90475348,42.96215057,1.2324 -79.65038322,43.60839462,1.4181 -71.49153,42.83149338,1.4832 -83.2136035,42.54683685,1.3125 -77.06272721,38.90465546,1.3105 -77.2262802,38.98247147,1.7854 -73.86556652,40.84030914,0.7799 -80.08652003,36.13634491,0.8563 -73.83782666,40.73490524,0.6422 -77.01745149,38.89766312,1.5984 -83.16959142,40.01963425,0.9597 -79.55903177,43.09279633,1.2961 -84.5120196,39.1031189,1.0891 -71.16422661,42.71570969,1.2804 -76.9767189,38.63004303,1.3346 -73.91861111,40.69416809,1.6876 -83.00617484,39.98804474,1.2717 -73.58958571,40.74619293,1.671 -73.99768687,40.76391602,1.0219 -77.4105409,39.41426849,1.1668 -75.1345,40.18830109,0.9657 -73.90343911,40.74560165,1.579 -73.04707034,41.31982422,0.6934 -76.4401507,40.33206177,0.8368 -74.002324,40.73030472,0.5879 -79.16682019,44.43212128,1.2199 -73.95276804,40.80924606,1.3525 -72.5083833,41.77122498,1.2432 -73.91826379,40.86084366,1.4551 -75.0700987,39.72897339,0.6588 -75.17318408,39.95351791,0.6391 -73.722351,40.71136856,0.5894 -72.27354992,40.94282532,1.2699 -84.19554353,39.81782532,1.4489 -77.4204,39.42630005,1.5302 -79.07162333,43.25526428,1.3513 -86.18438875,41.65449524,0.7515 -77.0089452,38.55947876,1.2294 -74.18624789,39.6305542,1.7132 -71.15818094,42.2633934,1.5002 -74.00906574,40.71557999,1.4823 -76.2319,43.04840088,1.5242 -73.93553738,40.85063934,0.7012 -76.620957,39.28551865,0.6256 -76.95432827,38.98607635,1.3186 -73.126224,41.27119827,1.7277 -76.8109487,39.37091827,0.8302 -74.22318333,40.39395523,1.6079 -78.66248321,35.79064941,0.9985 -73.891998,40.86130142,1.1888 -76.23960969,39.55582809,0.7081 -74.4817041,40.4911232,1.1923 -76.5444,38.41809845,1.4732 -76.670356,39.17948532,0.6352 -77.2897186,39.24611664,0.9986 -71.960564,41.04442978,1.3532 -74.2303853,39.5735321,0.8059 -85.6680863,42.96335983,1.3632 -71.07186389,42.34384918,1.2649 -73.53391126,40.6378479,1.2557 -73.9284642,40.68283844,1.6448 -78.837827,35.77453995,1.4567 -73.99759384,40.71859741,1.3717 -82.9833,39.98329926,1.3074 -73.926516,40.82961273,1.1509 -75.1171,38.46039963,1.3194 -80.01563627,40.44638062,0.7417 -79.34444906,44.64843369,1.2831 -84.19565452,39.6620636,1.893 -73.94729633,41.08697891,0.7618 -72.8738666,41.31944656,1.1996 -71.08659891,42.34650803,0.7175 -86.09055782,43.95215607,0.6057 -78.88213207,43.04618835,0.6584 -73.9837299,40.75391769,1.1547 -74.45318814,40.46622849,1.2583 -75.78557,39.6758194,0.7958 -73.96763,40.69749832,1.2113 -84.63456273,44.32457352,0.6555 -72.337,41.52119827,0.6418 -68.7711,44.80120087,0.7687 -73.97811751,40.68655777,0.8905 -83.00617484,39.98804474,1.2717 -78.59281233,35.61476898,1.2125 -78.16081948,39.09990311,0.7191 -73.88023773,40.74608994,1.6051 -86.1845451,41.65460205,0.6813 -73.977355,40.75183868,1.3394 -76.2670533,36.78451538,1.405 -71.08507263,42.30377197,1.5225 -71.489875,42.49493027,1.6846 -74.03127328,40.73156738,1.5134 -84.46100855,42.8012085,0.8343 -71.11413203,41.67951965,1.2484 -79.38571937,43.64998627,1.3841 -84.50666667,39.09749985,1.2308 -84.19018678,39.75687027,0.8263 -75.6748181,45.43946457,1.6635 -85.873209,39.61125565,1.1849 -81.58695,41.55254745,0.6727 -80.08276304,42.12824631,0.6721 -79.07707441,43.08582687,0.5431 -73.37831184,40.70303345,1.3088 -76.5120781,39.29838943,0.6243 -76.857981,39.20299911,1.3056 -74.8081,38.99649811,1.5324 -77.05991795,38.90129852,1.3698 -77.03177127,38.91701889,1.2886 -71.040491,42.35136795,1.2508 -76.15590632,43.05018616,1.3964 -73.986454,40.76095963,1.2961 -71.1093,42.32210159,1.6746 -77.2042969,39.1702652,1.7075 -73.94764148,40.77534866,1.2923 -74.87055422,41.03961182,1.8518 -79.81966,43.6979599,0.6334 -73.7865791,40.64685059,0.7178 -82.9987942,39.96117401,1.5487 -76.8114034,39.37122726,0.6155 -83.78489709,42.53199005,0.7774 -75.09181117,39.84043503,1.2976 -70.974613,42.26169205,0.5668 -75.67020333,35.91036987,0.7373 -74.8816385,40.0650177,1.5677 -80.6089913,40.27462769,0.7658 -77.2841889,39.1684227,0.8256 -84.20228437,40.04319,0.9981 -74.31862855,40.65436554,0.7143 -79.23570131,43.7063942,1.5565 -72.27750719,40.94514465,1.2738 -76.76219177,39.31015778,0.7454 -73.976188,40.68326569,1.3229 -73.9385697,40.84624863,1.6424 -74.00619919,40.74423981,1.3563 -83.0370887,42.33776855,1.0363 -76.9944191,38.81787109,0.7648 -79.35955465,43.65047073,1.3054 -72.1714,43.36629868,0.6368 -83.1785361,42.25059509,1.4184 -81.3453858,41.31755447,1.2954 -75.17957723,40.1929245,1.2034 -80.7805854,41.22420502,0.6783 -81.432945,41.6157341,1.5491 -73.99201852,40.75920486,1.3367 -86.16864965,41.6225853,1.5525 -76.60798908,39.28591537,1.6248 -77.94779914,44.32116318,1.4849 -76.71894106,39.29323578,0.5834 -79.38283088,43.63855362,1.4296 -85.64121414,41.75785828,0.7547 -79.58197052,43.55492401,1.458 -82.9290696,40.12617493,1.3901 -76.8233675,39.46313095,1.6263 -73.83171458,40.84288788,0.6036 -75.54352987,39.93742752,0.7454 -79.41404,43.63056946,1.4316 -83.0587354,42.32398605,1.7284 -73.72468654,40.71199417,1.3758 -81.49099239,41.43078232,1.4655 -73.722351,40.71136856,0.5718 -80.01583333,40.44666672,0.7985 -80.01557638,40.44639206,1.4072 -71.8408,42.27859879,1.5296 -77.63721493,35.88405609,0.7022 -75.1604,39.9496994,0.7728 -78.21807833,39.24412918,1.1498 -73.92285565,40.70694351,0.75 -83.798858,39.9667778,0.7378 -76.83727709,39.17663574,1.1597 -70.64339847,42.0916481,1.5911 -73.9189,40.86439896,1.3197 -74.5247779,40.89609909,0.7516 -77.45667893,37.55102539,1.6248 -78.52882994,36.33333588,0.6027 -74.27148373,40.62826538,0.9614 -73.40625101,41.12134171,0.8768 -73.978805,40.72386551,1.2715 -75.6748181,45.43946457,1.4059 -73.976188,40.68326569,1.6427 -74.452858,40.49964905,1.3949 -77.3592561,38.9581337,0.6759 -77.58887864,38.78577423,1.6895 -77.0363658,38.89511108,1.4961 -81.5430483,41.41632462,0.5644 -74.008632,40.7133522,1.2327 -75.67774929,40.03236771,1.4116 -78.638039,35.77705765,0.804 -80.43315833,40.42002487,1.2889 -71.040491,42.35136795,1.2508 -73.997343,40.76359558,0.7263 -73.97511438,40.77198792,1.4994 -80.2548,40.51119995,1.1956 -79.83842005,40.10245895,0.7107 -76.61448018,39.27751923,1.1648 -83.1499322,42.65836716,1.6741 -73.86968004,40.73447037,0.7135 -73.92548405,40.79794312,1.5293 -73.99122271,40.40398407,1.1569 -79.43229,43.64986038,0.6855 -79.94842339,40.14936066,0.613 -83.00617484,39.98804474,1.5418 -78.8946874,35.99038696,0.7147 -79.82545853,36.05694199,1.4022 -79.6098099,35.704319,1.4038 -81.5499029,41.07613754,0.577 -78.7296186,35.8852005,0.6956 -79.3598,43.64590073,1.31 -73.91835347,41.98176956,1.1865 -73.9281422,40.86626434,1.5706 -73.95995551,40.71974182,1.6866 -73.961356,41.37717056,1.3662 -73.996864,40.70608521,1.2663 -75.251228,39.93412781,1.3697 -83.11064148,40.18617249,0.5912 -81.8943107,41.42643738,1.5243 -84.4316,42.28680038,1.0897 -83.01068286,39.96877289,0.8543 -77.0174,38.89759827,1.7087 -73.1664495,41.18880844,1.3369 -84.35683514,39.03411865,1.3238 -75.96878009,41.33945465,1.1689 -75.201286,41.91347885,1.7755 -84.74048636,39.01704407,1.2462 -76.3085,40.04169846,1.246 -70.09697005,41.28858566,0.643 -83.0062503,39.97143173,1.4839 -77.0089452,38.55947876,1.2752 -83.05158976,40.05065155,1.5686 -73.96576278,40.75443268,1.1688 -73.58292153,45.51672363,1.6468 -77.0089452,38.55947876,1.4767 -86.13032644,40.47657394,0.6196 -77.62069001,37.63149643,1.2144 -80.08892467,40.30129623,0.8044 -73.99057943,40.72919464,1.7391 -75.14068257,39.96406555,1.0575 -73.99024847,40.7426796,0.7382 -76.1272585,36.89714432,1.7819 -83.8927,39.80170059,1.2491 -73.83171631,40.84288788,0.7642 -75.1401443,39.95167923,1.5715 -72.96772601,40.7904129,0.5152 -73.72225,40.71505737,1.1971 -74.00255705,40.7303772,0.5922 -73.98570092,40.7578392,1.161 -75.01282459,40.13156509,1.209 -75.25925599,39.94244385,1.4731 -74.0064,40.71419907,0.821 -76.6081238,38.2730217,0.9537 -78.6435293,35.7786026,1.5528 -73.979952,40.57537079,1.2082 -84.48292136,42.73618698,1.3666 -73.22266339,44.47709274,1.2001 -79.40368093,43.63882828,1.2005 -81.49474463,40.54679489,1.3797 -70.86950683,42.53504944,1.572 -86.12234972,39.85519791,1.3704 -70.26040077,43.65619659,1.3258 -73.92548405,40.79794312,1.4602 -82.2023691,38.80980301,1.4095 -73.72468654,40.71199417,1.3758 -71.577274,41.99869156,0.6207 -73.82744558,42.90342331,1.1654 -77.0363658,38.89511108,1.5843 -74.2537457,40.42728806,0.755 -72.2428587,40.93676758,0.7025 -76.3562,39.41490173,1.2159 -76.71894534,39.29325104,1.1658 -77.486641,37.55823898,1.1963 -71.8408,42.27859879,1.6656 -74.000443,40.72967529,1.5252 -83.2379938,42.43610001,0.8611 -79.39405976,43.63696289,1.1695 -75.2069294,43.16142654,0.7592 -71.5705133,41.6733017,0.7304 -73.98166667,40.72638702,1.5988 -76.80140779,39.39927292,1.7492 -85.5097226,42.92192841,1.4459 -76.006141,42.10139465,1.4226 -74.00251133,40.73036194,0.6417 -71.47743771,42.94591904,1.4251 -76.1779499,36.86517334,1.3095 -78.0400698,43.22626877,0.786 -72.6316942,41.78626251,0.8465 -71.03908933,42.07241058,1.2515 -73.58379536,45.52288437,1.2524 -71.80645404,42.27072906,1.3851 -73.34939056,40.66962433,1.3308 -76.05405438,36.77477646,1.6085 -73.57319,45.49720001,1.1632 -79.79051471,36.0685463,1.2602 -82.58826851,41.98429871,1.2061 -77.08537214,38.74919891,0.796 -78.1706,39.16550064,1.2318 -74.11286973,40.67063522,0.7212 -77.29821,38.68796158,0.856 -83.07528935,42.30329895,1.2748 -83.0616,42.35240173,0.7372 -79.03698561,43.16291046,0.6947 -83.36976422,42.42779922,0.8391 -81.56119125,41.38402176,0.8411 -73.56230748,45.50156403,1.3391 -73.86869243,40.85729599,0.7801 -86.13736667,39.82679367,0.7008 -73.92947844,40.66567612,0.6699 -79.83681778,36.08627319,1.4458 -76.2858726,36.85076904,1.5451 -77.978,35.38199997,1.3734 -74.0081,41.49729919,1.8845 -73.18457999,40.73714447,0.5967 -72.631203,42.31759644,1.2796 -79.80533808,43.32774734,0.9955 -73.143101,41.25900269,1.3855 -73.82681,40.69464111,1.8133 -74.00029686,40.73136902,1.7806 -76.9150271,38.85110855,0.8424 -73.92835825,40.68267822,0.8215 -86.11622555,39.56963348,1.3263 -71.08347416,42.34824371,1.4232 -74.44511171,39.35334396,1.7209 -74.24401629,40.67389679,1.2371 -75.6282991,40.02274704,1.3983 -74.80681513,38.99114227,1.6586 -73.64376822,40.79296112,1.4381 -71.0959756,42.34723282,1.271 -77.47185742,38.31806564,0.5505 -80.01609016,40.44643021,1.5077 -74.354832,40.80223465,1.4418 -73.36368352,41.14154816,1.4292 -73.92548405,40.79794312,1.3272 -75.22037333,39.94150543,0.6192 -76.9748175,38.84922028,1.7004 -73.9727926,40.69059372,0.9643 -79.61578687,43.68182373,1.3288 -79.36836612,43.6648407,1.5286 -73.965486,40.71416855,1.6358 -86.15259366,40.06124878,1.3746 -74.1438639,40.87470245,1.4699 -73.98509848,40.66872787,1.6901 -73.57582904,45.53923035,0.7209 -76.972649,40.20962143,1.2989 -86.21795503,39.75932693,0.8269 -71.0536625,42.40842819,1.4126 -81.87535921,43.22408295,0.5714 -77.16003419,39.65746689,0.5562 -83.24549055,42.6968689,1.0221 -83.1382259,42.46448898,1.534 -73.81608226,40.69273376,1.2933 -79.07331753,43.0904541,1.7702 -74.87212498,39.93119431,1.4269 -71.07227116,42.31785202,0.5891 -79.31372548,43.69013596,0.652 -79.75051876,43.5838089,1.9204 -76.48414719,39.67919159,0.8548 -74.046489,40.72222137,1.3045 -75.1412,39.94459915,1.5859 -75.4464111,39.10076904,1.4466 -81.54880681,41.30720901,0.6118 -76.8477407,38.88899994,0.9911 -74.16526099,43.11952209,1.8977 -71.8425,42.27759933,1.6145 -80.04426575,40.53321838,1.1553 -83.65205426,41.17379761,1.1715 -76.8109794,39.37091064,0.6949 -84.37540049,42.78883743,0.6502 -71.07996298,42.35430908,1.2674 -77.5265621,38.2422142,0.7337 -76.75138783,37.27738571,1.6175 -73.23549028,41.16518784,0.7224 -77.18319287,39.25329208,0.8457 -72.81607466,41.53423691,0.6621 -73.958334,40.71285629,1.5865 -73.92547365,40.79467392,1.1949 -83.0904881,42.3967247,1.5681 -76.48409844,38.97188187,1.3207 -73.92548405,40.79794312,0.6682 -73.93090056,40.70619965,0.5594 -73.722351,40.71136856,1.2396 -81.93028,41.40768814,1.473 -74.4817041,40.4911232,1.2923 -74.07080775,39.9414711,1.5248 -83.1388,42.46030045,1.4986 -77.0089452,38.55947876,1.2549 -75.6635513,39.39358139,1.3241 -79.79481697,36.07248306,0.7749 -71.690645,42.19984055,1.1781 -77.36794349,40.90136337,1.1963 -84.2264082,39.80977249,0.8341 -84.52144844,42.7552681,1.4921 -73.74308313,42.86525345,1.2427 -77.01742293,38.89805603,1.5388 -86.12891335,39.93002319,0.7594 -86.16047553,39.76590729,1.216 -71.19952,41.95968246,1.8536 -74.0703,40.15859985,1.3646 -80.35647003,43.38912582,1.8607 -75.117345,39.99142075,1.7111 -84.65498876,39.16466904,1.4418 -76.30133858,36.88396454,1.5471 -78.79810583,35.7421875,1.5021 -70.67813531,42.05086899,1.7133 -77.19342216,45.88529587,1.3561 -74.28508759,39.70982742,1.446 -80.2576988,36.12776566,1.5138 -76.60828531,39.2801857,1.4805 -74.93192644,39.90299606,1.467 -71.94566298,41.03801346,1.1639 -84.46587039,39.10282898,1.6948 -85.7791,43.31689835,1.3334 -72.1264106,41.44753265,0.9685 -81.3740812,41.13919067,0.8164 -73.90213478,40.86413574,0.5926 -77.29,38.81999969,0.6208 -80.0479,40.38290024,1.4219 -81.60985633,41.10533905,0.5928 -77.74856912,39.45802307,1.3085 -71.15795898,43.63046646,1.625 -81.487305,41.13883209,1.5878 -82.3530884,36.31425095,1.1777 -73.98970229,40.75734711,0.7068 -71.21659177,42.72904205,0.703 -75.313832,40.01976395,1.4082 -83.740879,42.27167511,1.1525 -73.98560526,40.74853134,1.3108 -78.7908564,42.9131813,1.4575 -74.57254928,39.27505875,1.3772 -79.40257072,43.6562233,1.2889 -76.80140779,39.39927292,1.8115 -73.61075669,40.7545433,1.1084 -73.98584301,40.67181396,0.8536 -78.26858596,44.42897034,1.2307 -81.6865711,41.48152161,1.5258 -81.5577517,40.91960144,0.8363 -71.23029288,42.01303101,1.0724 -81.68638376,41.48199844,1.2878 -79.31971117,44.28092575,1.6688 -73.98337664,40.74010849,1.6926 -73.92285565,40.70694351,0.8022 -71.082809,42.34976578,1.5518 -84.36488405,42.79548264,0.7201 -77.486641,37.55823898,1.5201 -73.94444444,40.68888855,0.621 -75.54872852,39.74365616,1.5303 -82.2417351,41.38615799,1.7028 -83.2218731,42.4733696,1.0402 -83.138741,42.46050262,1.9601 -79.94813075,40.1491394,0.5522 -80.43887587,43.27808762,1.1505 -86.075721,39.71158981,1.067 -80.26012709,43.54537964,1.4626 -80.59527778,40.43000031,0.6613 -73.786476,40.84757996,1.4573 -79.37917113,43.64341354,1.3879 -74.2231689,40.58120728,0.7994 -83.39937656,42.40525055,0.6963 -73.64074001,40.76803207,0.6446 -76.54103002,37.10557175,1.3159 -75.13457749,40.18841171,0.618 -81.703413,41.43323517,1.3372 -77.01145458,38.89547348,1.3574 -84.5223,38.03887558,1.328 -86.2474651,43.20573425,1.56 -76.1779253,36.86518097,0.7374 -74.04819508,41.78025055,0.6224 -73.3467046,40.90081787,1.292 -73.64189713,40.65251541,1.2517 -73.94293963,40.79969406,0.8498 -75.36327308,40.09281921,1.7906 -72.30558917,42.92830276,1.2725 -79.9710639,40.49591064,1.3368 -73.93348,40.70589828,1.2284 -86.14833333,39.93138885,0.9579 -74.02628311,40.74133682,0.7535 -71.35889059,42.64582062,1.1926 -71.08574507,42.34292603,0.7166 -80.17350993,40.38185501,1.5689"
   csv.replace('/\r?\n|\r/','');
   arr = csv.split(',');
   Array.prototype.chunk = function(chunkSize){
     var array = this;
     return [].concat.apply([],
        array.map(function(elem, i) {
             return i%chunkSize ? [] : [array.slice(i, i+chunkSize)];
	})
	);
	}
    //datapoints = arr.chunk(3);            
    //datapoints = $.csv.toArray(csv);
             
               /*var extract = function(){                      
               $(document).ready(function () {        
                 $.ajax({                                                                   
                   type: "GET",                                 
                   url: 'cached_tweets.csv',             
                   dataType: "csv",                                              
                   success: function (raw) {
                   for (row in raw) {                   
                     ints.push([row[0], row[1], row[5]])                                              
                       console.log(row);
                   }
                   
                   console.log(datapoints);
                   }                                                                 
                });                                             
              });*/                                                   
                                                                                   
            //extract();


            if( active){
		
		
		active = false;
	    var points = alg(coordinates[0],coordinates[1], datapoints);
        	console.log(points);
	    displayOnMap(points);
        }
}

       
	

    function displayOnMap(points) {
        var map = getMap()
    //var points = [[42.3351, -71.1704],[42.3496,-71.0997],[42.3598,-71.0921]];
    var pathCoordinates = [];
    for (var i = 0; i < points.length; i++) {
          pathCoordinates.push(new google.maps.LatLng(points[i][0], points[i][1]));
    }
    var fullBounds = new google.maps.LatLngBounds();
    fullBounds.extend(pathCoordinates[0]);
    fullBounds.extend(pathCoordinates[points.length-1]);
    map.fitBounds(fullBounds);

    var happyPath = new google.maps.Polyline({
      path: pathCoordinates,
      geodesic: true,
      strokeColor: '#FF0000',
      strokeOpacity: 1.0,
      strokeWeight: 2
     });
    happyPath.setMap(map);
    }




 
    </script>
</head>
<body>

<style>
   #wrapper { position: relative; }
   #over_map { position: absolute; top: 10px; left: 10px; z-index: 99; }
</style>

<div id="wrapper">
   <div id="map-canvas">

   </div>

   <div id="over_map">

 <button  type = "button"  id = "first" style= " width:900px; font-size:33; z-index:9; color: black; background: rgba(192,192,200,0.7);" position = "relative"  class="btn btn-primary btn-lg">Click your current location</button>

 <button  type = "button"  id = "second" style= " width:900px; font-size:33; z-index:9; color: black; background: rgba(192,192,200,0.7);" position = "relative"  class="btn btn-primary btn-lg">Click your ultimate destination</button>
   </div>
</div>



</body>

</html>

